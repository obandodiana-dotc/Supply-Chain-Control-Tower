<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SupplyChain Intelligence · Inventory Manager</title>

<style>
  :root {
    --bg: #0a0f1c;
    --card: #131b2f;
    --soft: #1c2640;
    --accent: #38bdf8;
    --accent2: #34d399;
    --warn: #facc15;
    --danger: #fb7185;
    --text: #e2e8f0;
    --text-soft: #94a3b8;
    --radius: 18px;
    --radius-sm: 10px;
    --font: system-ui, sans-serif;
  }

  * { margin:0; padding:0; box-sizing:border-box; font-family:var(--font); }

  body {
    background: var(--bg);
    color: var(--text);
    padding-bottom: 50px;
  }

  /* NAV BAR */
  nav {
    width: 100%;
    background: var(--card);
    padding: 14px;
    display: flex;
    justify-content: center;
    gap: 22px;
    position: sticky;
    top: 0;
    z-index: 99;
    border-bottom: 1px solid #1e293b;
  }
  nav a {
    color: var(--text-soft);
    text-decoration: none;
    font-weight: 500;
  }
  nav a:hover { color: var(--accent); }

  .container {
    max-width: 960px;
    margin: auto;
    padding: 20px;
  }

  h1 {
    text-align: center;
    font-size: 32px;
    margin-bottom: 6px;
    background: linear-gradient(to right, #38bdf8, #a855f7, #f97316);
    -webkit-background-clip: text;
    color: transparent;
  }

  .subtitle {
    text-align:center;
    font-size:14px;
    color:var(--text-soft);
    margin-bottom:20px;
  }

  .card {
    background: var(--card);
    padding: 16px;
    border-radius: var(--radius);
    border: 1px solid #1e293b;
    margin-top: 24px;
  }

  .card-title {
    font-size:18px;
    margin-bottom:12px;
  }

  select {
    width:100%;
    padding:10px;
    background:var(--soft);
    color:var(--text);
    border-radius:var(--radius-sm);
    margin-top:8px;
    border:1px solid #24314d;
  }

  .profile-box {
    background: var(--soft);
    border: 1px solid #24314d;
    padding: 16px;
    border-radius: var(--radius-sm);
    margin-top: 14px;
  }

  .row {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
  }
  .label { color: var(--text-soft); font-size: 14px; }
  .value { font-size: 15px; font-weight: 600; }

  .tag {
    padding: 3px 8px;
    border-radius: 999px;
    width: fit-content;
    font-size: 11px;
    margin-top: 6px;
  }
  .green { background: rgba(34,197,94,0.15); color:#bbf7d0; }
  .yellow { background: rgba(250,204,21,0.15); color:#fef9c3; }
  .red { background: rgba(248,113,113,0.15); color:#fee2e2; }

</style>
</head>

<body>

<!-- NAVIGATION -->
<nav>
  <a href="index.html">Dashboard</a>
  <a href="inventory.html">Inventory</a>
  <a href="map.html">Network Map</a>
  <a href="simulation.html">Simulation</a>
  <a href="risk.html">Risk</a>
  <a href="abc.html">ABC</a>
</nav>

<div class="container">

  <h1>Inventory Manager</h1>
  <p class="subtitle">Multi-SKU analytics powered by operational formulas</p>

  <!-- SKU SELECTOR -->
  <div class="card">
    <div class="card-title">Select a Product (SKU)</div>

    <select id="skuSelector"></select>

    <div id="skuProfile"></div>
  </div>

</div>

<script src="data.js"></script>

<script>

/* ============================================
   LOAD SKU LIST INTO DROPDOWN
   ============================================ */
const selector = document.getElementById("skuSelector");

SKUs.forEach(s => {
  const opt = document.createElement("option");
  opt.value = s.id;
  opt.textContent = `${s.id} — ${s.name}`;
  selector.appendChild(opt);
});

/* Load first SKU by default */
displaySKU(SKUs[0].id);


/* ============================================
   DISPLAY SKU PROFILE + CALCULATIONS
   ============================================ */
function displaySKU(id) {
  const sku = SKUs.find(s => s.id === id);

  if (!sku) return;

  /* --- REAL CALCULATIONS --- */

  const D = sku.demandAnnual;
  const S = sku.orderCost;
  const C = sku.unitCost;
  const H = sku.holdingRate;
  const LT = sku.leadTime;
  const SD = sku.demandStd;

  const daily = D / 365;

  const EOQ = Math.sqrt((2 * D * S) / (C * H));
  const ROP = daily * LT;
  const SS = 1.65 * Math.sqrt(LT * SD * SD);  // 95% service

  let risk = "";
  let tag = "";

  if (SS < 200) { risk = "Low"; tag="green"; }
  else if (SS < 400) { risk="Medium"; tag="yellow";}
  else { risk="High"; tag="red"; }

  /* DISPLAY IN PAGE */
  document.getElementById("skuProfile").innerHTML = `
    <div class="profile-box">
      <h3>${sku.id} – ${sku.name}</h3>
      <div class="tag ${tag}">${risk} risk</div>

      <div class="row"><span class="label">Category</span><span class="value">${sku.category}</span></div>
      <div class="row"><span class="label">Annual demand</span><span class="value">${D.toLocaleString()}</span></div>
      <div class="row"><span class="label">Daily demand</span><span class="value">${daily.toFixed(1)}</span></div>
      <div class="row"><span class="label">Unit cost</span><span class="value">€${C}</span></div>
      <div class="row"><span class="label">Order cost</span><span class="value">€${S}</span></div>
      <div class="row"><span class="label">Holding rate</span><span class="value">${(H*100)}%</span></div>
      <div class="row"><span class="label">Lead time</span><span class="value">${LT} days</span></div>
      <div class="row"><span class="label">Demand std</span><span class="value">${SD}</span></div>

      <hr style="margin:16px 0; border-color:#1e293b;">

      <div class="row"><span class="label">EOQ</span><span class="value">${EOQ.toFixed(0)} units</span></div>
      <div class="row"><span class="label">Reorder Point</span><span class="value">${ROP.toFixed(0)} units</span></div>
      <div class="row"><span class="label">Safety Stock</span><span class="value">${SS.toFixed(0)} units</span></div>
    </div>
  `;
}

/* Update profile when SKU changes */
selector.addEventListener("change", (e) => {
  displaySKU(e.target.value);
});
</script>

</body>
</html>
